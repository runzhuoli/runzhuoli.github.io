---
title: 2024 Dec 7 Days Interview Prepare
key: 20241210
tags:
  - Algorithm
  - System Design
  - Interview
---

<!--more-->

## Day 1

### Coding 

- Start with [Grind 75 Leetcode list](https://leetcode.com/problem-list/a1hjvbfd/)
- Watched youtube video on [Post Order Travelsal](https://youtu.be/suPO02S0cR8?si=81_xEedsNkK5tyXk)
  - Calculate something at each node using value's from node's left and right subtree
 
### System Design

- General Approach:
  - Requirements: Functional & Non-Functional
  - Core Entities
  - API or Interface
  - High Level Design
  - Deep Dives

- [CAP Theorem](https://youtu.be/VdrEq0cODu4?si=ngYfgrGBFrYYpjWk)
  - Partitaion tolerance usually is a must have. Trade off between consistency and availability.
  - Strong consistency: distributed transactions, limit to a single node (likely)
  - Availability: multi replicas, CDC and eventual consistency
  - Different consistency types: Strong, Causal, Read-your-writes, Eventual
 
- [Design Youtube Top K Videos](https://youtu.be/1lfktgZ9Eeo?si=LBUZDOu7Xvrp0SD9)
  -  Video view event stream
  -  Using counter to tack video_id : view_count and a top-K heap
  -  Using checkpoint to recover host
  -  Each consumer to update minute/hour/day counter respectively by leveraging Kafka (w lag)
  -  Would consider another [AWS example](https://github.com/aws-samples/iceberg-streaming-examples)
- [Design Ticket Master](https://youtu.be/fhdPyoO6aXI?si=ftZqffQWXMAEa8Ie)


## Day 2

### Coding

- [Container with most water](https://leetcode.com/problems/container-with-most-water) : two pointers, left and right, move the smaller value one in each step
- [Word Break](https://leetcode.com/problems/word-break): TODO


### System Design

- [Design Uber](https://youtu.be/lsKU38RKQSo?si=tPBkSGJpKNzD6jno)
  - Core entities: ride, driver, rider, location
  - Location seach: Quad Tree (Postgre) vs [Geo Hash](https://redis.io/docs/latest/commands/geohash/) (Redis) 
  - Using Redis as a distributed lock with TTL
  - Consistent match: send request to one driver each time. wait 10s for the next driver
 
- [Kafka Dive Deep](https://youtu.be/DU8o-OTeoCc?si=Xo4Zg36gGXtH8g4G)
  - Broker: the server which hold queues
  - Partition: the "queue" - immutable, ordered. A broker can hold multiple partitions
  - Topic: a logic group of partitions
  - Producer / Consumer (Consumer Group - each event only processed by one consumer in the group): read message by offset, commit offset
  - Availability & Duriability: partition has leader & follower
  - Scalability: more brokers + a good partition key
  - Consumer retries: retry queue, DLQ
  - Why so fast: 1. sequential disk writes 2. zero-copy IO 3. parallel processing - partitioning, 4. batching and comperssion, 5. memory-mapped files
 



